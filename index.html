<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<link rel="stylesheet" href="normalize.css" type="text/css">
		<link rel="stylesheet" href="stylesheet.css" type="text/css">
		<script src="http://yandex.st/highlightjs/6.1/highlight.min.js" type="text/javascript">
</script>
		<link rel="stylesheet" href="http://yandex.st/highlightjs/6.1/styles/default.min.css" type="text/css">
		<link rel="stylesheet" href="http://yandex.st/highlightjs/6.1/styles/github.css" type="text/css">
		<script type="text/javascript">
hljs.initHighlightingOnLoad();
		</script>
		<title>
			EclipseCon M2M contest
		</title>
	</head>
	<body>
		<div id="header">
			<div id="eclipsecon-logo"></div>Machine-to-Machine Programming Contest
		</div>
		<div id="toc">
			<ul>
				<li>
					<a href="#general-description">General description</a>
				</li>
				<li>
					<a href="#daily-draw">Daily draw</a>
				</li>
				<li>
					<a href="#programming-contest">Programming contest</a>
					<ul>
						<li>
							<a href="#judging-criteria">Judging criteria</a>
						</li>
						<li>
							<a href="#how-to-participate">How to participate?</a>
						</li>
						<li>
							<a href="#sms-commands">SMS commands</a>
						</li>
						<li>
							<a href="#api">API</a>
						</li>
						<li>
							<a href="#application-examples">Application examples</a>
						</li>
						<li>
							<a href="#jury">The jury</a>
						</li>
					</ul>
				</li>
			</ul>
		</div>
		<h1 id="general-description">
			General description
		</h1>
		<p>
			The Forum has been wired!
		</p>
		<p>
			We have spread sensors and various sorts of devices (including an actual robot made of Lego Mindstorms NXT) all over the Forum, and invite you to unleash your creativity by designing an application that will use all the data. Mobile app, augmented reality, social interactivity… the only limit is your imagination.
		</p>
		<p>
			The winner will get an <strong>Apple iPad 2</strong>!
		</p>
		<p>
			If you don't feel like writing a whole application and would like to be part of the contest, just fill in a ticket and join our daily draw to try to win cool swag!
		</p>
		<h1 id="daily-draw">
			Daily draw
		</h1>
		<p>
			Come by the Sierra Wireless booth, answer the few questions about the sensors and M2M in general, and try to win cool swag brought to you by Sierra and the Eclipse Foundation! We will draw one lucky winner at the end of day 1 and day 2 of the conference. Deadlines to submit your ticket:
		</p>
		<ul>
			<li>Wednesday, 2<sup>nd</sup>: 5.30pm CEST
			</li>
		</ul>
		<ul>
			<li>Thursday, 3<sup>rd</sup>: 5.30pm CEST
			</li>
		</ul>
		<h1 id="programming-contest">
			Programming contest
		</h1>
		<h2 id="judging-criteria">
			Judging criteria
		</h2>
		<div id="fightclub">
			<p>
				<strong><u>Rule #1</u></strong><br>
				You do speak about the M2M contest with everyone at the conference.
			</p>
			<p>
				<strong><u>Rule #2</u></strong><br>
				You <strong>DO</strong> speak about the M2M contest with everyone at the conference!
			</p>
		</div>
		<p>
			The Best Application will be selected by a panel of judges. The judges will be evaluating the applications based on the following criteria:
		</p>
		<ul>
			<li>
				<strong>Innovation</strong>: There is a lot of data available, and the jury wants you to come up with the most creative ways to use it. You can for example try to use the QR codes available on the cube and the remote stations to build augmented reality applications!
			</li>
			<li>
				<strong>Use of Eclipse Technologies</strong>: The jury would like to see you use Eclipse technologies as much as possible. How about using BIRT to create cool charts? Or Nebula widgets? What if you were to write a plug-in opening a Mylyn notification in your Eclipse workbench whenever something abnormal happens?
			</li>
			<li>
				<strong>Interactivity</strong>: Every participant able to add interactivity will definitelty get bonus points. Remember that you can send SMSes to control the cube, that Twitter might be a good way to share the data with a broader audience, …
			</li>
		</ul>
		<h2 id="how-to-participate">
			How to participate?
		</h2>
		<h3>
			Enter the contest
		</h3>
		<ol>
			<li>Describe the killer features you have implemented in your application in less than 300 words,
			</li>
			<li>Take 1 to 3 screenshots showing your application in action, or make a short video or screencast (1-2 minutes),
			</li>
			<li>Send the description and screenshots of your new client to <a href="mailto:m2mcontest-ece@eclipse.org">m2mcontest-ece@eclipse.org</a> by Friday, Nov 4<sup>th</sup>, 2011 at 11:30am CEST.
			</li>
		</ol>
		<h3>
			Judging process
		</h3>
		<ol>
			<li>The judges will select a short list of finalists and invite them to demo their applications.
			</li>
			<li>Demos will take place on Nov 4<sup>th</sup>, 2011 from 12:30pm - 1:30pm CEST.
			</li>
			<li>Winners will be announced at the EclipseCon Europe closing session.
			</li>
		</ol>
		<h2 id="sms-commands">
			SMS commands
		</h2>
		<p>
			It is possible to control the speed and direction of a fan that is inside the Cube, and it is actually very simple to do so. Just send an SMS to <strong>+33617026228</strong>, with the following form: "FAN1 {SPEED}" where speed is an integer between -100 and 100 (throttle in % and direction). Example: <code>FAN1 -80</code>.
		</p>
		<p>
			If the SMS received has a different format, then it will simply be displayed on the LCD display as soon as it is received, and this is definitely something that we encourage you to use in your application!
		</p>
		<h2 id="api">
			API
		</h2>
		<p>
			A <a href="http://www.mongodb.org/" target="_blank">MongoDB</a> database stores the data history for all the sensors, and you can access it using a very simple REST API.
		</p>
		<p>
			The URL to which you should make GET requests is: <code>http://m2mcontest.eclipsecon.org/rest_api/&lt;<strong>databaseName</strong>&gt;/&lt;<strong>collectionName</strong>&gt;?<strong>query_params</strong></code>
		</p>
		<h3>
			Allowed query parameters
		</h3>
		<ul>
			<li>
				<p>
					<code>criteria=<em>search_criteria</em></code><br>
					<em>search_criteria</em> is a JSON representation of the search filter.
				</p>If you just want to filter results for which a given key equals a given value, use the following syntax: <code>{"sensor": "CUBE_TEMPERATURE"}</code><br>
				If you want to filter results for which a given key is greater than a given value, use the following syntax: <code>{"value": {"$gt": 500}}</code>. Other comparators are of course available: <code>$lt</code>, <code>$lte</code>, <code>$gte</code>, <code>$ne</code>.<br>
				More information about the MongoDB query capabilities can be found in <a href="http://www.10gen.com/static/downloads/mongodb_qrc_queries.pdf" title="MongoDB queries" target="_blank">this document</a>.
			</li>
			<li>
				<p>
					<code>sort=<em>sort_fields</em></code><br>
					<em>sort_fields</em> is a JSON representation of the field you wants to sort the result by, with the associated order.
				</p><code>{"sensor":1,"value":-1}</code> would sort the result by ascending 'sensor' key, and descending 'value' key.
			</li>
			<li>
				<p>
					<code>limit=<em>n</em></code><br>
					<em>n</em> is the maximum number of results you want to get.
				</p>
			</li>
		</ul>
		<h3>
			<code><strong>sensors</strong></code> database
		</h3>
		<ul>
			<li>
				<p>
					<code><strong>data</strong></code> collection contains the raw data. That means there are tons of data in this collection, but it can be useful if you want to access the last instant value of a given variable.
				</p>
				<p>
					Returned values have the following format:
				</p>
				<pre>
<code>
{
  "id":0,
  "ok":1,
  "results":[
    {
      "_id":{
        "$oid":"4e98b520e4b0331bc63552f8"
      },
      "sensor":"CUBE_ILLUMINANCE",
      "value":250
    },
    {
      "_id":{
        "$oid":"4e98b520e4b0331bc63552f9"
      },
      "sensor":"CUBE_TEMPERATURE",
      "value":19.010000000000002
    }
  ]
}
</code>
</pre>
			</li>
			<li>
				<p>
					<code><strong>info</strong></code> collection contains metadata related to the sensors. You should use it to discover the available sensors, and grab their description.
				</p>
				<p>
					Returned values have the following format:
				</p>
				<pre>
            <code>
{
  "ok":1,
  "results":[
    {
      "_id":{
        "$oid":"4ea13ed7da0693209c524a25"
      },
      "sensor":"CUBE_TEMPERATURE",
      "description":"Temperature at the cube",
      "unit":"\u00b0C"
    },
    {
      "_id":{
        "$oid":"4ea13ed7da0693209c524a26"
      },
      "sensor":"CUBE_ILLUMINANCE",
      "description":"Ambient light level at the cube",
      "unit":"lux"
    }
  ],
  "id":79
}
            </code>
            
</pre>
			</li>
			<li>
				<p>
					<code><strong>consolidatedData_OneMinute</strong></code>, <code><strong>consolidatedData_FiveMinute</strong></code> and <code><strong>consolidatedData_OneHour</strong></code> collections contain the results of a map/reduce job applied to raw data, and allow you to access min/max/averages sensors values on given periods of time.
				</p>
				<p>
					Returned values have the following format:
				</p>
				<pre>
<code>
{
  "id":7,
  "ok":1,
  "results":[
    {
      "_id":{
        "sensorId":"CUBE_ILLUMINANCE",
        "ts":{
          "$date":1318630680000
        }
      },
      "value":{
        "average":275.0,
        "maximum":300.0,
        "minimum":250.0,
        "nbSamples":2.0,
        "sensorId":"CUBE_ILLUMINANCE"
      }
    },
    {
      "_id":{
        "sensorId":"CUBE_TEMPERATURE",
        "ts":{
          "$date":1318630680000
        }
      },
      "value":{
        "average":19.02,
        "maximum":19.02,
        "minimum":19.010000000000002,
        "nbSamples":2.0,
        "sensorId":"CUBE_TEMPERATURE"
      }
    }
  ]
}
</code>
</pre>
			</li>
		</ul>
		<h3>
			<code><strong>rfid</strong></code> database
		</h3>
		<ul>
			<li>
				<p>
					<code><strong>history</strong></code> collection contains the history of the scans performed by the RFID scanner.
				</p>
				<p>
					Returned values have the following format:
				</p>
				<pre>
<code>
{
  "ok":1,
  "results":[
    {
      "_id":{
        "$oid":"4eaaaa5dd3739934e100002e"
      },
      "tag":"B73C5F60"
    },
    {
      "_id":{
        "$oid":"4eaaacd9d3739934e100007f"
      },
      "tag":"B73C5F60"
    }
  ],
  "id":499
}
</code>       
</pre>To know what physical object corresponds to which tag ID, you should look into the <code>info</code> collection. See below!
			</li>
			<li>
				<p>
					<code><strong>info</strong></code> collection contains the human-readable description of the physical objects that can be scanned.
				</p>
				<p>
					Returned values have the following format:
				</p>
				<pre>
<code>TBD.</code>        
</pre>
			</li>
		</ul>
		<h3>
			<code><strong>commands</strong></code> database
		</h3>
		<ul>
			<li>
				<p>
					<code><strong>history</strong></code> collection contains the history of the command received and actually handled by the Cube. You may want to use it to get the latest command received, or compute statistics regarding the most executed commands.
				</p>
				<p>
					Returned values have the following format:
				</p>
				<pre>
            <code>
{
  "ok":1,
  "results":[
    {
      "command":"FAN1 80",
      "_id":{
        "$oid":"4ea80530d37399153d0000cd"
      },
      "type":"SMS",
      "from":"33619196101"
    },
    {
      "command":"FAN1 30",
      "_id":{
        "$oid":"4ea814a6d37399274a00008d"
      },
      "type":"SMS",
      "from":"33619196101"
    }
  ],
  "id":232
}
            </code>
</pre>The only supported type at the moment is '<code>SMS</code>'. In case of an SMS, the '<code>from</code>' attribute is the phone number of the SMS sender.
			</li>
		</ul>
		<h2 id="application-examples">
			Application examples
		</h2>
		<h3>
			Javascript
		</h3>
		<p>
			We have put a very simple Javascript application on github to help you getting familiar with the API and the manipulation of consolidated data.
		</p>
		<p>
			You can grab the source code at: <a href="https://github.com/kartben/eclipsecon-m2m-contest/tree/master/samples/" target="_blank">https://github.com/kartben/eclipsecon-m2m-contest/tree/master/samples/</a>
		</p>
		<p>
			<iframe id="temperature-chart" src="google-chart.html" scrolling="no"></iframe>
		</p>
		<h3>
			OSGi
		</h3>
		<p>
			If you are building an OSGi-based application, then you probably want to use the <a href="https://github.com/kartben/eclipsecon-m2m-contest/tree/master/samples/osgi/org.eclipsecon.m2mcontest.connector" target="_blank">following bundle</a>. It publishes a service (<code>IM2MServerAccessor</code>) allowing you to easily get sensor data. You wil also automagically get notified when new data is available, by subscribing to the <code>m2m/sensor</code> EventAdmin topic.
		</p>
		<p>
			The code of this bundle may not be 100% bug-free, but it should help you getting started!
		</p>
		<h2 id="jury">
			Jury
		</h2>
		<p>
			The winner of the programming contest will be elected by a panel of Eclipse community members and M2M experts on Friday, 4<sup>th</sup>.
		</p>
		<p>
			Members of the jury are:
		</p>
		<ul>
			<li>Wayne Beaton, <a href="http://www.eclipse.org/org/" title="About the Eclipse Foundation" target="_blank">Eclipse Foundation</a>,
			</li>
			<li>Benjamin Cabé, <a href="http://www.sierrawireless.com/" title="Sierra Wireless - Wireless mobile computing and M2M" target="_blank">Sierra Wireless</a>, contest co-organizer,
			</li>
			<li>Joscha Häring, <a href="https://evolvis.org/plugins/mediawiki/wiki/freedroidz/index.php/Hauptseite" title="freedroidz" target="_blank">freedroidz</a>, contest co-organizer,
			</li>
			<li>Kai Kreuzer, <a href="http://code.google.com/p/openhab/" title="openHAB" target="_blank">openHAB</a>,
			</li>
			<li>Mattis Pasch, <a href="https://evolvis.org/plugins/mediawiki/wiki/freedroidz/index.php/Hauptseite" title="freedroidz" target="_blank">freedroidz</a>, contest co-organizer.
			</li>
		</ul>
	</body>
</html>
